

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using pweave module &mdash; Pweave v0.30 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Pweave v0.30 documentation" href="index.html"/>
        <link rel="next" title="Using Bokeh with Pweave" href="bokeh.html"/>
        <link rel="prev" title="Output Formats" href="formats.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="docs.html" class="icon icon-home"> Pweave documentation
          

          
          </a>

          
            
            
              <div class="version">
                0.30
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Pweave - Scientific Reports Using Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Pweave Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="script.html">Using Pweave from Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="chunks.html">Code Chunk Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats.html">Output Formats</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using pweave module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#simple-weaving-and-tangling">Simple weaving and tangling:</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pweave-function-reference">Pweave function reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#more-options-with-pweb-class">More options with Pweb Class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pweb-class">Pweb Class</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bokeh.html">Using Bokeh with Pweave</a></li>
<li class="toctree-l1"><a class="reference internal" href="defaults.html">Changing defaults</a></li>
<li class="toctree-l1"><a class="reference internal" href="pypublish.html">Publishing scipts</a></li>
<li class="toctree-l1"><a class="reference internal" href="customizing.html">Customizing output</a></li>
<li class="toctree-l1"><a class="reference internal" href="subclassing.html">Subclassing formatters</a></li>
<li class="toctree-l1"><a class="reference internal" href="editors.html">Editor support</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/index.html">Pweave example gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="links.html">Pweave links</a></li>
<li class="toctree-l1"><a class="reference internal" href="release.html">Release notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="docs.html">Pweave documentation</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="docs.html">Docs</a> &raquo;</li>
        
      <li>Using pweave module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/pweave.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-pweave-module">
<h1>Using pweave module<a class="headerlink" href="#using-pweave-module" title="Permalink to this headline">¶</a></h1>
<p>Pweave can also be used as module from the Python interpreter. This
has some advantages over just using the scripts. First the execution
of the code will be faster because all modules all already
imported. It is also possible to fully
customize the document execution and formatting using the <a class="reference internal" href="#pweave.Pweb" title="pweave.Pweb"><code class="xref py py-class docutils literal"><span class="pre">Pweb</span></code></a> class.</p>
<p>pweave module contains two functions <a class="reference internal" href="#pweave.weave" title="pweave.weave"><code class="xref py py-func docutils literal"><span class="pre">weave()</span></code></a> and
<a class="reference internal" href="#pweave.tangle" title="pweave.tangle"><code class="xref py py-func docutils literal"><span class="pre">tangle()</span></code></a> that offer the same functionality as the command
line scripts.</p>
<div class="section" id="simple-weaving-and-tangling">
<h2>Simple weaving and tangling:<a class="headerlink" href="#simple-weaving-and-tangling" title="Permalink to this headline">¶</a></h2>
<p>Here’s and example of simple weaving and tangling using example
document <a class="reference external" href="_static/ma.mdw">ma.mdw</a>. Notice that pweave prints out the
progress so in case of an error you can tell in which chunk it
occurred.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pweave</span>
<span class="c1"># Weave a pandoc document with default options</span>
<span class="n">pweave</span><span class="o">.</span><span class="n">weave</span><span class="p">(</span><span class="s1">&#39;ma.mdw&#39;</span><span class="p">,</span> <span class="n">doctype</span> <span class="o">=</span> <span class="s2">&quot;pandoc&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span><span class="ne">FileNotFoundError</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span><span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">site</span><span class="o">-</span>
<span class="n">packages</span><span class="o">/</span><span class="n">pweave</span><span class="o">/</span><span class="n">readers</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">read_file_or_url</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
     <span class="mi">15</span>     <span class="k">try</span><span class="p">:</span>
<span class="o">---&gt;</span> <span class="mi">16</span>         <span class="n">codefile</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
     <span class="mi">17</span>         <span class="n">contents</span> <span class="o">=</span> <span class="n">codefile</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="ne">FileNotFoundError</span><span class="p">:</span> <span class="p">[</span><span class="n">Errno</span> <span class="mi">2</span><span class="p">]</span> <span class="n">No</span> <span class="n">such</span> <span class="n">file</span> <span class="ow">or</span> <span class="n">directory</span><span class="p">:</span> <span class="s1">&#39;ma.mdw&#39;</span>
<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>
<span class="ne">ValueError</span>                                <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span>
<span class="n">last</span><span class="p">)</span><span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">00</span><span class="n">fa7e3b1899</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span><span class="p">()</span>
      <span class="mi">1</span> <span class="kn">import</span> <span class="nn">pweave</span>
      <span class="mi">2</span> <span class="c1"># Weave a pandoc document with default options</span>
<span class="o">----&gt;</span> <span class="mi">3</span> <span class="n">pweave</span><span class="o">.</span><span class="n">weave</span><span class="p">(</span><span class="s1">&#39;ma.mdw&#39;</span><span class="p">,</span> <span class="n">doctype</span> <span class="o">=</span> <span class="s2">&quot;pandoc&quot;</span><span class="p">)</span>
<span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pweave</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span>
<span class="n">weave</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">doctype</span><span class="p">,</span> <span class="n">informat</span><span class="p">,</span> <span class="n">kernel</span><span class="p">,</span> <span class="n">plot</span><span class="p">,</span> <span class="n">docmode</span><span class="p">,</span> <span class="n">cache</span><span class="p">,</span> <span class="n">figdir</span><span class="p">,</span>
<span class="n">cachedir</span><span class="p">,</span> <span class="n">figformat</span><span class="p">,</span> <span class="n">listformats</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">mimetype</span><span class="p">)</span>
     <span class="mi">49</span>     <span class="n">doc</span> <span class="o">=</span> <span class="n">Pweb</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">informat</span><span class="o">=</span><span class="n">informat</span><span class="p">,</span> <span class="n">doctype</span><span class="o">=</span><span class="n">doctype</span><span class="p">,</span>
     <span class="mi">50</span>                <span class="n">kernel</span><span class="o">=</span><span class="n">kernel</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">output</span><span class="p">,</span> <span class="n">figdir</span><span class="o">=</span><span class="n">figdir</span><span class="p">,</span>
<span class="o">---&gt;</span> <span class="mi">51</span>                <span class="n">mimetype</span><span class="o">=</span><span class="n">mimetype</span>
     <span class="mi">52</span>                <span class="p">)</span>
     <span class="mi">53</span>     <span class="n">doc</span><span class="o">.</span><span class="n">documentationmode</span> <span class="o">=</span> <span class="n">docmode</span>
<span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pweave</span><span class="o">/</span><span class="n">pweb</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span>
<span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">doctype</span><span class="p">,</span> <span class="n">informat</span><span class="p">,</span> <span class="n">kernel</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">figdir</span><span class="p">,</span>
<span class="n">mimetype</span><span class="p">)</span>
     <span class="mi">68</span>
     <span class="mi">69</span>         <span class="bp">self</span><span class="o">.</span><span class="n">setformat</span><span class="p">(</span><span class="n">doctype</span><span class="p">)</span>
<span class="o">---&gt;</span> <span class="mi">70</span>         <span class="bp">self</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">reader</span> <span class="o">=</span> <span class="n">informat</span><span class="p">)</span>
     <span class="mi">71</span>
     <span class="mi">72</span>     <span class="k">def</span> <span class="nf">_setwd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pweave</span><span class="o">/</span><span class="n">pweb</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
<span class="n">string</span><span class="p">,</span> <span class="n">basename</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span>
    <span class="mi">106</span>
    <span class="mi">107</span>         <span class="k">if</span> <span class="n">string</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="o">--&gt;</span> <span class="mi">108</span>             <span class="bp">self</span><span class="o">.</span><span class="n">reader</span> <span class="o">=</span> <span class="n">Reader</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
    <span class="mi">109</span>         <span class="k">else</span><span class="p">:</span>
    <span class="mi">110</span>             <span class="bp">self</span><span class="o">.</span><span class="n">reader</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Reader</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">string</span><span class="p">)</span>
<span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pweave</span><span class="o">/</span><span class="n">readers</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span>
<span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
     <span class="mi">36</span>         <span class="c1"># Get input from string or</span>
     <span class="mi">37</span>         <span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="o">---&gt;</span> <span class="mi">38</span>             <span class="bp">self</span><span class="o">.</span><span class="n">rawtext</span> <span class="o">=</span> <span class="n">read_file_or_url</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
     <span class="mi">39</span>         <span class="k">else</span><span class="p">:</span>
     <span class="mi">40</span>             <span class="bp">self</span><span class="o">.</span><span class="n">rawtext</span> <span class="o">=</span> <span class="n">string</span>
<span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pweave</span><span class="o">/</span><span class="n">readers</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span>
<span class="n">read_file_or_url</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
     <span class="mi">18</span>         <span class="n">codefile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
     <span class="mi">19</span>     <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
<span class="o">---&gt;</span> <span class="mi">20</span>         <span class="n">r</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
     <span class="mi">21</span>         <span class="n">contents</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
     <span class="mi">22</span>         <span class="n">r</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">urllib</span><span class="o">/</span><span class="n">request</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span>
<span class="n">timeout</span><span class="p">,</span> <span class="n">cafile</span><span class="p">,</span> <span class="n">capath</span><span class="p">,</span> <span class="n">cadefault</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
    <span class="mi">221</span>     <span class="k">else</span><span class="p">:</span>
    <span class="mi">222</span>         <span class="n">opener</span> <span class="o">=</span> <span class="n">_opener</span>
<span class="o">--&gt;</span> <span class="mi">223</span>     <span class="k">return</span> <span class="n">opener</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
    <span class="mi">224</span>
    <span class="mi">225</span> <span class="k">def</span> <span class="nf">install_opener</span><span class="p">(</span><span class="n">opener</span><span class="p">):</span>
<span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">urllib</span><span class="o">/</span><span class="n">request</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fullurl</span><span class="p">,</span>
<span class="n">data</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
    <span class="mi">509</span>         <span class="c1"># accept a URL or a Request object</span>
    <span class="mi">510</span>         <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fullurl</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
<span class="o">--&gt;</span> <span class="mi">511</span>             <span class="n">req</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">fullurl</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="mi">512</span>         <span class="k">else</span><span class="p">:</span>
    <span class="mi">513</span>             <span class="n">req</span> <span class="o">=</span> <span class="n">fullurl</span>
<span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">urllib</span><span class="o">/</span><span class="n">request</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span>
<span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="p">,</span> <span class="n">origin_req_host</span><span class="p">,</span> <span class="n">unverifiable</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>
    <span class="mi">327</span>                  <span class="n">origin_req_host</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unverifiable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="mi">328</span>                  <span class="n">method</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="o">--&gt;</span> <span class="mi">329</span>         <span class="bp">self</span><span class="o">.</span><span class="n">full_url</span> <span class="o">=</span> <span class="n">url</span>
    <span class="mi">330</span>         <span class="bp">self</span><span class="o">.</span><span class="n">headers</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="mi">331</span>         <span class="bp">self</span><span class="o">.</span><span class="n">unredirected_hdrs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">urllib</span><span class="o">/</span><span class="n">request</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">full_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
    <span class="mi">353</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_full_url</span> <span class="o">=</span> <span class="n">unwrap</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="mi">354</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_full_url</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fragment</span> <span class="o">=</span>
<span class="n">splittag</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_full_url</span><span class="p">)</span>
<span class="o">--&gt;</span> <span class="mi">355</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_parse</span><span class="p">()</span>
    <span class="mi">356</span>
    <span class="mi">357</span>     <span class="nd">@full_url</span><span class="o">.</span><span class="n">deleter</span>
<span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">urllib</span><span class="o">/</span><span class="n">request</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">_parse</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="mi">382</span>         <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">rest</span> <span class="o">=</span> <span class="n">splittype</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_full_url</span><span class="p">)</span>
    <span class="mi">383</span>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="o">--&gt;</span> <span class="mi">384</span>             <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;unknown url type: </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span>
<span class="bp">self</span><span class="o">.</span><span class="n">full_url</span><span class="p">)</span>
    <span class="mi">385</span>         <span class="bp">self</span><span class="o">.</span><span class="n">host</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">selector</span> <span class="o">=</span> <span class="n">splithost</span><span class="p">(</span><span class="n">rest</span><span class="p">)</span>
    <span class="mi">386</span>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">host</span><span class="p">:</span>
<span class="ne">ValueError</span><span class="p">:</span> <span class="n">unknown</span> <span class="n">url</span> <span class="nb">type</span><span class="p">:</span> <span class="s1">&#39;ma.mdw&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Extract the code</span>
<span class="n">pweave</span><span class="o">.</span><span class="n">tangle</span><span class="p">(</span><span class="s1">&#39;ma.mdw&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>---------------------------------------------------------------------------AttributeError
Traceback (most recent call last)&lt;ipython-input-1-d41c1a734f25&gt; in
&lt;module&gt;()
      1 # Extract the code
----&gt; 2 pweave.tangle(&#39;ma.mdw&#39;)
~/anaconda3/lib/python3.6/site-packages/pweave/__init__.py in
tangle(file, informat)
     64     :param file: ``string`` the pweave document containing the
code
     65     &quot;&quot;&quot;
---&gt; 66     doc = Pweb(file, kernel = None, informat = informat)
     67     doc.tangle()
     68
~/anaconda3/lib/python3.6/site-packages/pweave/pweb.py in
__init__(self, source, doctype, informat, kernel, output, figdir,
mimetype)
     67         self.theme = &quot;skeleton&quot;
     68
---&gt; 69         self.setformat(doctype)
     70         self.read(reader = informat)
     71
~/anaconda3/lib/python3.6/site-packages/pweave/pweb.py in
setformat(self, doctype, Formatter)
    148
    149         self.formatter = Formatter([],
--&gt; 150                                    kernel = self.kernel,
    151                                    language = self.language,
    152                                    mimetype =
self.mimetype.type,
AttributeError: &#39;Pweb&#39; object has no attribute &#39;kernel&#39;
</pre></div>
</div>
<div class="section" id="pweave-function-reference">
<h3>Pweave function reference<a class="headerlink" href="#pweave-function-reference" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="pweave.weave">
<code class="descclassname">pweave.</code><code class="descname">weave</code><span class="sig-paren">(</span><em>file</em>, <em>doctype=None</em>, <em>informat=None</em>, <em>kernel='python3'</em>, <em>plot=True</em>, <em>docmode=False</em>, <em>cache=False</em>, <em>figdir='figures'</em>, <em>cachedir='cache'</em>, <em>figformat=None</em>, <em>listformats=False</em>, <em>output=None</em>, <em>mimetype=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave.html#weave"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.weave" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes a Pweave document and writes output to a file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file</strong> – <code class="docutils literal"><span class="pre">string</span></code> input file</li>
<li><strong>doctype</strong> – <code class="docutils literal"><span class="pre">string</span></code> output document format: call with listformats true to get list of supported formats.</li>
<li><strong>informat</strong> – <code class="docutils literal"><span class="pre">string</span></code> input format: “noweb”, “markdown”, “notebook” or “script”</li>
<li><strong>kernel</strong> – <code class="docutils literal"><span class="pre">string</span></code> Jupyter kernel used to run code: default is python3</li>
<li><strong>plot</strong> – <code class="docutils literal"><span class="pre">bool</span></code> use matplotlib</li>
<li><strong>docmode</strong> – <code class="docutils literal"><span class="pre">bool</span></code> use documentation mode, chunk code and results will be loaded from cache and inline code will be hidden</li>
<li><strong>cache</strong> – <code class="docutils literal"><span class="pre">bool</span></code> Cache results to disk for documentation mode</li>
<li><strong>figdir</strong> – <code class="docutils literal"><span class="pre">string</span></code> directory path for figures</li>
<li><strong>cachedir</strong> – <code class="docutils literal"><span class="pre">string</span></code> directory path for cached results used in documentation mode</li>
<li><strong>figformat</strong> – <code class="docutils literal"><span class="pre">string</span></code> format for saved figures (e.g. ‘.png’), if None then the default for each format is used</li>
<li><strong>listformats</strong> – <code class="docutils literal"><span class="pre">bool</span></code> List available formats and exit</li>
<li><strong>output</strong> – <code class="docutils literal"><span class="pre">string</span></code> output file</li>
<li><strong>mimetype</strong> – <code class="docutils literal"><span class="pre">string</span></code> Source document’s text mimetype. This is used to set cell
type in Jupyter notebooks.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pweave.tangle">
<code class="descclassname">pweave.</code><code class="descname">tangle</code><span class="sig-paren">(</span><em>file</em>, <em>informat=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave.html#tangle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.tangle" title="Permalink to this definition">¶</a></dt>
<dd><p>Tangles a noweb file i.e. extracts code from code chunks to a .py file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file</strong> – <code class="docutils literal"><span class="pre">string</span></code> the pweave document containing the code</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pweave.publish">
<code class="descclassname">pweave.</code><code class="descname">publish</code><span class="sig-paren">(</span><em>file</em>, <em>doc_format='html'</em>, <em>theme='skeleton'</em>, <em>latex_engine='pdflatex'</em>, <em>output=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave.html#publish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.publish" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish python script and results to html or pdf, expects that doc
chunks are  written in markdown.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file</strong> – <code class="docutils literal"><span class="pre">string</span></code> input file”</li>
<li><strong>format</strong> – <code class="docutils literal"><span class="pre">string</span></code> output format “html” of “pdf”, pdf output
requires pandoc and pdflatex in your path.</li>
<li><strong>latex_engine</strong> – <code class="docutils literal"><span class="pre">string</span></code> the command for running latex. Defaults to “pdflatex”.</li>
<li><strong>output</strong> – <code class="docutils literal"><span class="pre">string</span></code> output file. Use .tex extension for pdf output.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pweave.convert">
<code class="descclassname">pweave.</code><code class="descname">convert</code><span class="sig-paren">(</span><em>file</em>, <em>informat='noweb'</em>, <em>outformat='script'</em>, <em>pandoc_args=None</em>, <em>listformats=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave.html#convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert input file from script to noweb or vice versa</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file</strong> – <code class="docutils literal"><span class="pre">string</span></code> input file</li>
<li><strong>informat</strong> – <code class="docutils literal"><span class="pre">string</span></code> input format noweb, script or notebook</li>
<li><strong>outformat</strong> – <code class="docutils literal"><span class="pre">string</span></code> input format noweb or script</li>
<li><strong>pandoc_args</strong> – <code class="docutils literal"><span class="pre">string</span></code> arguments passed to pandoc to convert doc chunks.
e.g. to convert from markdown to latex use: <cite>“-f markdown -t latex”</cite> .
Note that each doc chunk is converted separately so you can’t use pandocs -s option.</li>
<li><strong>listformats</strong> – <code class="docutils literal"><span class="pre">bool</span></code> List available formats and exit</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pweave.spin">
<code class="descclassname">pweave.</code><code class="descname">spin</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave.html#spin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.spin" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert input file from script format to noweb format, similar to Knitr’s spin.</p>
</dd></dl>

</div>
</div>
<div class="section" id="more-options-with-pweb-class">
<h2>More options with Pweb Class<a class="headerlink" href="#more-options-with-pweb-class" title="Permalink to this headline">¶</a></h2>
<p>Weaving, tangling and pweave options are implemented using
<a class="reference internal" href="#pweave.Pweb" title="pweave.Pweb"><code class="xref py py-class docutils literal"><span class="pre">Pweb</span></code></a> class. There is an <a class="reference external" href="customizing.html">example</a>
about customizations and the class reference is below.</p>
<div class="section" id="pweb-class">
<h3>Pweb Class<a class="headerlink" href="#pweb-class" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pweave.Pweb">
<em class="property">class </em><code class="descclassname">pweave.</code><code class="descname">Pweb</code><span class="sig-paren">(</span><em>source</em>, <em>doctype=None</em>, <em>*</em>, <em>informat=None</em>, <em>kernel='python3'</em>, <em>output=None</em>, <em>figdir='figures'</em>, <em>mimetype=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave/pweb.html#Pweb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.Pweb" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a Pweave document</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source</strong> – <code class="docutils literal"><span class="pre">string</span></code> name of the input document.</li>
<li><strong>doctype</strong> – <code class="docutils literal"><span class="pre">string</span></code> output format.</li>
<li><strong>informat</strong> – <code class="docutils literal"><span class="pre">string</span></code> input format</li>
<li><strong>kernel</strong> – <code class="docutils literal"><span class="pre">string</span></code> name of jupyter kernel used to run code</li>
<li><strong>output</strong> – <code class="docutils literal"><span class="pre">string</span></code> output path</li>
<li><strong>figdir</strong> – <code class="docutils literal"><span class="pre">string</span></code> figure directory</li>
<li><strong>mimetype</strong> – Source document’s text mimetype. This is used to set cell
type in Jupyter notebooks</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pweave.Pweb.documentationmode">
<code class="descname">documentationmode</code><em class="property"> = None</em><a class="headerlink" href="#pweave.Pweb.documentationmode" title="Permalink to this definition">¶</a></dt>
<dd><p>Use documentation mode</p>
</dd></dl>

<dl class="method">
<dt id="pweave.Pweb.format">
<code class="descname">format</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave/pweb.html#Pweb.format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.Pweb.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format executed code for writing.</p>
</dd></dl>

<dl class="method">
<dt id="pweave.Pweb.getformat">
<code class="descname">getformat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave/pweb.html#Pweb.getformat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.Pweb.getformat" title="Permalink to this definition">¶</a></dt>
<dd><p>Get current format dictionary. See: <a class="reference external" href="http://mpastell.com/pweave/customizing.html">http://mpastell.com/pweave/customizing.html</a></p>
</dd></dl>

<dl class="method">
<dt id="pweave.Pweb.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>string=None</em>, <em>basename='string_input'</em>, <em>reader=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave/pweb.html#Pweb.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.Pweb.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse document</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">None (set automatically), reader name or class object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pweave.Pweb.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>Processor=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave/pweb.html#Pweb.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.Pweb.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute code in the document</p>
</dd></dl>

<dl class="method">
<dt id="pweave.Pweb.setformat">
<code class="descname">setformat</code><span class="sig-paren">(</span><em>doctype=None</em>, <em>Formatter=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave/pweb.html#Pweb.setformat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.Pweb.setformat" title="Permalink to this definition">¶</a></dt>
<dd><p>Set formatter by name or class. You can pass either</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>doctype</strong> – The name of Pweave output format</li>
<li><strong>Formatter</strong> – Formatter class</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pweave.Pweb.setkernel">
<code class="descname">setkernel</code><span class="sig-paren">(</span><em>kernel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave/pweb.html#Pweb.setkernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.Pweb.setkernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the kernel for jupyter_client</p>
</dd></dl>

<dl class="method">
<dt id="pweave.Pweb.tangle">
<code class="descname">tangle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave/pweb.html#Pweb.tangle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.Pweb.tangle" title="Permalink to this definition">¶</a></dt>
<dd><p>Tangle the document</p>
</dd></dl>

<dl class="method">
<dt id="pweave.Pweb.updateformat">
<code class="descname">updateformat</code><span class="sig-paren">(</span><em>dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave/pweb.html#Pweb.updateformat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.Pweb.updateformat" title="Permalink to this definition">¶</a></dt>
<dd><p>Update existing format, See: <a class="reference external" href="http://mpastell.com/pweave/customizing.html">http://mpastell.com/pweave/customizing.html</a></p>
</dd></dl>

<dl class="method">
<dt id="pweave.Pweb.weave">
<code class="descname">weave</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave/pweb.html#Pweb.weave"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.Pweb.weave" title="Permalink to this definition">¶</a></dt>
<dd><p>Weave the document, equals -&gt; parse, run, format, write</p>
</dd></dl>

<dl class="method">
<dt id="pweave.Pweb.write">
<code class="descname">write</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pweave/pweb.html#Pweb.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pweave.Pweb.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write formatted code to file</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bokeh.html" class="btn btn-neutral float-right" title="Using Bokeh with Pweave" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="formats.html" class="btn btn-neutral" title="Output Formats" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Matti Pastell. 2010 - 2016.
      Last updated on Sep 10, 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.30',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
      var pageTracker = _gat._getTracker("UA-6474352-5");
      pageTracker._trackPageview();
      } catch(err) {}</script>
</div>


</body>
</html>